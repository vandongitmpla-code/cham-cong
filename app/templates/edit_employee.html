{% extends "base.html" %}
{% block title %}S·ª≠a Nh√¢n vi√™n{% endblock %}
{% block content %}
<div class="section-card">
  <h2 class="section-title">S·ª≠a Nh√¢n vi√™n</h2>

  <form method="post" class="mt-3">
    <div class="mb-3">
      <label class="form-label">M√£ s·ªë</label>
      <input type="text" name="code" class="form-control" value="{{ emp.code }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">H·ªç v√† t√™n</label>
      <input type="text" name="name" class="form-control" value="{{ emp.name }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">T·ªï</label>
      <input type="text" name="team" class="form-control" value="{{ emp.team }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Ph√≤ng ban</label>
      <input type="text" name="department" class="form-control" value="{{ emp.department }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Lo·∫°i Hƒê</label>
      <input type="text" name="contract_type" class="form-control" value="{{ emp.contract_type }}">
    </div>
    <div class="mb-3">
      <label for="att_code" class="form-label">M√£ ch·∫•m c√¥ng</label>
      <input type="text" class="form-control" id="att_code" name="att_code"
            value="{{ emp.att_code or '' }}">
    </div>

 
    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label class="form-label">Th√°ng b·∫Øt ƒë·∫ßu l√†m</label>
                                <div class="month-input-wrapper">
                                    <input type="month" name="start_month" id="editStartMonth" 
                                           class="form-control" 
                                           value="{{ emp.start_month or '' }}"
                                           onchange="updateEditInsuranceMonth()">
                                </div>
                            </div>
                        </div>
    <!-- HI·ªÇN TH·ªä TH√ÅNG B·∫¢O HI·ªÇM -->
                    <div class="row">
                        <div class="col-12">
                            <div id="editInsuranceLabel">
                                {% if emp.insurance_start_month %}
                                <div class="insurance-display vietnamese">
                                    üè¢ B·∫Øt ƒë·∫ßu ƒë√≥ng b·∫£o hi·ªÉm t·ª´: 
                                    <strong>
                                        {% set month = emp.insurance_start_month[5:7] %}
                                        {% set year = emp.insurance_start_month[:4] %}
                                        {% set month_names = ['Th√°ng 1', 'Th√°ng 2', 'Th√°ng 3', 'Th√°ng 4', 'Th√°ng 5', 'Th√°ng 6', 'Th√°ng 7', 'Th√°ng 8', 'Th√°ng 9', 'Th√°ng 10', 'Th√°ng 11', 'Th√°ng 12'] %}
                                        {{ month_names[month|int - 1] }} nƒÉm {{ year }}
                                    </strong>
                                </div>
                                {% endif %}
                            </div>
                            <input type="hidden" name="insurance_start_month" id="editInsuranceMonth" value="{{ emp.insurance_start_month or '' }}">
                        </div>
                    </div>
                </div>

    <button type="submit" class="btn btn-primary">C·∫≠p nh·∫≠t</button>
    <a href="{{ url_for('main.employees') }}" class="btn btn-secondary">H·ªßy</a>
  </form>
</div>
<script>
// Same JavaScript as above
</script>
{% endblock %}
