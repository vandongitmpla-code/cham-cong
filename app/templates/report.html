{% extends "base.html" %}

{% block title %}Upload Th√†nh C√¥ng{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/report.css') }}">
{% endblock %}

{% block content %}
<div class="report-card success">
  <!-- Icon th√†nh c√¥ng -->
  <div class="report-icon">
    <i class="bi bi-check-circle-fill"></i>
  </div>
  
  <!-- Ti√™u ƒë·ªÅ v√† m√¥ t·∫£ -->
  <h1 class="report-title">Upload th√†nh c√¥ng!</h1>
  <p class="report-subtitle">File c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω th√†nh c√¥ng v√† s·∫µn s√†ng ƒë·ªÉ xem b·∫£ng ch·∫•m c√¥ng</p>
  
  <!-- T√™n file -->
  <div class="report-filename">
    <i class="bi bi-file-earmark-excel"></i>
    {{ filename }}
  </div>
  
  <!-- Th·ªëng k√™ (c√≥ th·ªÉ th√™m dynamic data sau) -->
  <div class="report-stats">
    <div class="report-stat">
      <div class="report-stat-number">‚úì</div>
      <div class="report-stat-label">ƒê√£ x·ª≠ l√Ω</div>
    </div>
    <div class="report-stat">
      <div class="report-stat-number">üìä</div>
      <div class="report-stat-label">S·∫µn s√†ng</div>
    </div>
  </div>
  
  <!-- C√°c h√†nh ƒë·ªông -->
  <div class="report-actions">
    <a href="{{ url_for('main.timesheet', filename=filename) }}" class="btn btn-report-primary">
      <i class="bi bi-table"></i> Xem b·∫£ng ch·∫•m c√¥ng
    </a>
    <a href="{{ url_for('main.index') }}" class="btn btn-report-secondary">
      <i class="bi bi-arrow-left"></i> Quay l·∫°i Upload
    </a>
  </div>
  
  <!-- Th√¥ng tin chi ti·∫øt (t√πy ch·ªçn) -->
  <div class="report-details">
    <div class="report-details-title">
      <i class="bi bi-info-circle"></i>
      Th√¥ng tin x·ª≠ l√Ω
    </div>
    <div class="report-details-content">
      <ul class="report-details-list">
        <li>
          <i class="bi bi-check-lg"></i>
          File ƒë√£ ƒë∆∞·ª£c upload th√†nh c√¥ng
        </li>
        <li>
          <i class="bi bi-check-lg"></i>
          D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c x√°c th·ª±c
        </li>
        <li>
          <i class="bi bi-check-lg"></i>
          S·∫µn s√†ng ƒë·ªÉ xem b√°o c√°o
        </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Hi·ªáu ·ª©ng khi load trang
document.addEventListener('DOMContentLoaded', function() {
  const reportCard = document.querySelector('.report-card');
  
  // Th√™m hi·ªáu ·ª©ng typewriter cho subtitle (t√πy ch·ªçn)
  const subtitle = document.querySelector('.report-subtitle');
  if (subtitle) {
    const text = subtitle.textContent;
    subtitle.textContent = '';
    let i = 0;
    
    function typeWriter() {
      if (i < text.length) {
        subtitle.textContent += text.charAt(i);
        i++;
        setTimeout(typeWriter, 50);
      }
    }
    
    // B·∫Øt ƒë·∫ßu hi·ªáu ·ª©ng sau 1 gi√¢y
    setTimeout(typeWriter, 1000);
  }
  
  // Hi·ªáu ·ª©ng count-up cho stats (c√≥ th·ªÉ c·∫≠p nh·∫≠t v·ªõi real data sau)
  const statNumbers = document.querySelectorAll('.report-stat-number');
  statNumbers.forEach(stat => {
    if (stat.textContent === '‚úì' || stat.textContent === 'üìä') return;
    
    const target = parseInt(stat.textContent);
    let current = 0;
    const increment = target / 50;
    const timer = setInterval(() => {
      current += increment;
      if (current >= target) {
        stat.textContent = target;
        clearInterval(timer);
      } else {
        stat.textContent = Math.floor(current);
      }
    }, 30);
  });
});
</script>

<style>
/* Additional animations */
@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

.report-icon {
  animation: bounceIn 0.6s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.report-title {
  animation: fadeInUp 0.6s ease-out 0.2s both;
}

.report-subtitle {
  animation: fadeInUp 0.6s ease-out 0.4s both;
}

.report-filename {
  animation: fadeInUp 0.6s ease-out 0.6s both;
}

.report-stats {
  animation: fadeInUp 0.6s ease-out 0.8s both;
}

.report-actions {
  animation: fadeInUp 0.6s ease-out 1s both;
}

.report-details {
  animation: fadeInUp 0.6s ease-out 1.2s both;
}
</style>
{% endblock %}